---
sidebar_position: 1
---

import useBaseUrl from '@docusaurus/useBaseUrl';
import Admonition from '@theme/Admonition';

# Data in Cloud Object Storage

Organize your cloud object storage and design your catalog architecture following best practices.

## Overview

When using Databricks to access your data, you need two Unity Catalog objects:

- **Storage Credential**: Authenticates your Databricks workspace to your cloud object storage
- **External Location**: Defines the path to your data

This section will guide you through configuring these components and establishing a well-structured data architecture.

## Data Organization Strategy

As a Databricks architect, it's essential to define a clear data structure within your cloud object storage. While Unity Catalog allows users to access data without knowing specific file paths, proper organization ensures:

- **Data isolation** by environment, business unit, or region
- **Easy access** for end users
- **Scalable architecture** for future growth

Consider scenarios where you may need to separate data by different organizational or geographical boundaries before designing your storage structure.

## Storage Components

### Raw Data Storage

Your raw data bucket stores incoming data from various sources. Key considerations:

- You may need multiple buckets depending on your organizational structure
- Raw data architecture is often defined before implementing Databricks
- Each data source requires its own external location with appropriate storage credentials

### Catalog Design Approaches

Choose between two primary isolation strategies:

#### Physical Isolation

Create separate storage credentials and external locations for each or a combination of:
- Environment (dev, staging, production), Business unit, Geographic region or medallion layer
- Example:
  - Environment: dev, staging, production
  - Business unit: sales, marketing, finance
  - Geographic region: north america, europe, asia
  - medallion layer: bronze, silver, gold
  - Combinations: dev_bronze, dev_silver, dev_gold, staging_bronze, staging_silver, staging_gold, prod_bronze, prod_silver, prod_gold

This approach provides both infrastructure-level and Unity Catalog permission-based security.

##### *Physical isolation architecture diagram:*


<div style={{textAlign: 'center'}}>
  <img src={useBaseUrl('/img/physical_isolation.png')} alt="Physical Isolation Architecture"/>
</div>

#### Logical Isolation

Use a single storage credential and external location for all data, relying entirely on Unity Catalog permissions to control access.
Create catalogs for each environment, business unit, geographic region or medallion layer but everything is stored in the same external location.

- Example:
  - Environment: dev, staging, production
  - Business unit: sales, marketing, finance
  - Geographic region: north america, europe, asia
  - medallion layer: bronze, silver, gold
  - Combinations: dev_bronze, dev_silver, dev_gold, staging_bronze, staging_silver, staging_gold, prod_bronze, prod_silver, prod_gold

This approach only provides the Unity Catalog permission-based security.

##### *Logical isolation architecture diagram:*

<div style={{textAlign: 'center'}}>
  <img src={useBaseUrl('/img/logical_isolation.png')} alt="Logical Isolation Architecture"/>
</div>
## Next Steps

In the following sections, we'll walk through implementing these concepts for your specific cloud provider:
- [**Azure Setup**](./azure/azure.mdx)
- [**AWS Setup**](./aws/aws.mdx)
